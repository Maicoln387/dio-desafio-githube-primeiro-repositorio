window.NVPInjector=window.NVPInjector||{},NVPInjector.util=NVPInjector.util?NVPInjector.util:function(){var a={};return a.js2css=function(b,c){a.injectStyle(c)},a.injectStyle=function(a){var b=document;if(!window.attachEvent||window.addEventListener){var c=b.createElement("style"),d=!!b.body&&"string"==typeof b.body.style.WebkitAppearance;c.type="text/css",b.getElementsByTagName("head")[0].appendChild(c),c[d?"innerText":"innerHTML"]=a}else try{b.createStyleSheet().cssText=a}catch(e){console.error(e)}},a}(),NVPInjector.main=NVPInjector.main?NVPInjector.main:function(){var a,b,c,d={},e={bindedNvpIframeMessagingCallback:{},outbrainPlayer:null,outbrainPlayerTag:!1,obPlayerRecs:[],obPlayerEnv:"prod"},f=[],g={},h={},i=("https:"===document.location.protocol?"https":"http")+"://",j="#obOVerlay",k=i+"widgets.outbrain.com",l="/nativeVideoPlayer/";d.init=function(b,d,f){if(o(b))throw new Error("No rec data");if(n(),g=b,"OUTBRAIN"!==b.player){h=e.setRecPublisherSettings(d),h.videoOverlayOutsideCustomCSS&&NVPInjector.util.injectStyle(h.videoOverlayOutsideCustomCSS);var i="";if(f)i="position:static;",c=f;else{if(!document.body)throw new Error("No document.body");c=document.body}var k=e.getDisplayStatus();g.orientation=k.orientation,g.pageUrl=window.location.href,g.iframeSettings=h.videoOverlayIframeCustomCSS,window.addEventListener("resize",e.updateDisplayStatus,!1);var l={id:"NVP-OVERLAY","class":k.deviceTypeClasses,onclick:"NVPInjector.sendClosingLog(event);"};a=r("div",i,l),c.appendChild(a),window.location.href.indexOf(j)!==-1&&history.replaceState(null,null,window.location.href.replace(j,"")),history.pushState(null,null,window.location.href+j),window.addEventListener("message",e.receiveMessage,!1),e.loadIframe(k)}},d.recClicked=function(a,b){d.init(a,b,a.container)},d.widgetLoad=function(a,b,c){if(a){var d=e.getWidgetClassNames();if(Object.keys(d).length>0)for(var f=a.getElementsByClassName(d.recs),g=0;g<f.length;g+=1){var h=f[g];"true"==h.getAttribute("data-nvp-on-load")&&e.handleRec(h,b,c)}}},e.handleRec=function(a,b,c){var d=e.getWidgetClassNames(),g=e.getWidgetData(a);if(!o(g)){var h=a.getElementsByClassName(d.recImageContainer)[0],i=a.getElementsByClassName(d.recImage)[0];if(g=e.enrichRecData(g,b,c),e.isOutbrainPlayer(g))return void e.instantiateOBPlayer(a,g);if(e.isImageBigEnoughForNVP(a)){var j=g.vidId,k={id:"NVP-OVERLAY-"+j,"class":"nvp-overlay-wrapper "+g.displayStatus.deviceTypeClasses,style:"position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;"},l=r("div","",k);i.parentElement.appendChild(l),i.style.display="none";var n=e.loadIframe(g.displayStatus,j,l,g);null!==n&&(e.removeRecDefaults(a),e.handleIframeMessaging(a,j),f[j]=new m(h,g,g.recPublisherSettings,l,n))}}},e.removeRecDefaults=function(a){var b=e.getWidgetClassNames(),c=a.getElementsByClassName(b.recImageContainer)[0],d=a.getElementsByClassName(b.videoIconContainer)[0];a.removeAttribute("onclick"),a.removeAttribute("target"),a.setAttribute("href","#"),a.setAttribute("onmousedown",'this.href="#"'),a.className+=" ob-nvp-rec",c.setAttribute("data-type","Video"),d&&d.parentElement.removeChild(d)},e.isImageBigEnoughForNVP=function(a){var b=e.getWidgetClassNames(),c=a.getElementsByClassName(b.recImage)[0],d=a.getElementsByClassName(b.recImageRatio)[0],f=""!==b.recImageRatio?d.offsetWidth||d.clientWidth:c.offsetWidth||c.clientWidth,g=""!==b.recImageRatio?d.offsetHeight||d.clientHeight:c.offsetHeight||c.clientHeight;return c&&f>=200&&g>=200},e.enrichRecData=function(a,b,c){a=p(a,c);try{a.pageUrl=window.location.href}catch(d){}return a.videoDurationDisplayLocation=b.videoDurationDisplayLocation,a.focusVideoSoundOff=b.focusVideoSoundOff,a.videoInTitleIndication=b.videoInTitleIndication,a.recPublisherSettings=e.setRecPublisherSettings(b),a.displayStatus=e.getDisplayStatus(a.platform),a.orientation=a.displayStatus.orientation,a.isInlineNVP=!0,a.focusVideoFeed=b.focusVideoFeed,a.nativeVideoOverlay=b.nativeVideoOverlay,a.customControls=b.vidgetCustomControls,a.videoFeatureFlags=b.vidgetFeatureFlag,a.widgetRecMode=b.recMode,a},e.isOutbrainPlayer=function(a){return"OUTBRAIN"===a.player},e.instantiateOBPlayer=function(a,b){e.outbrainPlayer?e.addRecToOutbrainPlayer(a,b):(e.outbrainPlayerTag||e.insertOBPlayerTag(),b.obPlayerEnv=e.obPlayerEnv,e.obPlayerRecs.push({recData:b,rec:a})),e.invokeOpenCloseCallbacks(b)},e.invokeOpenCloseCallbacks=function(a){(a.onOpenCallbacks||a.onCloseCallbacks)&&window.addEventListener("message",function(b){const c=b.data;if(c.status&&a.widgetID===c.widgetID&&a.widgetIdx===c.widgetIdx){if("click"===c.status&&a.onOpenCallbacks)for(var d=0;d<a.onOpenCallbacks.length;d++){var e=a.onOpenCallbacks[d];"function"==typeof e&&e()}if("close"===c.status&&a.onCloseCallbacks)for(var d=0;d<a.onCloseCallbacks.length;d++){var e=a.onCloseCallbacks[d];"function"==typeof e&&e()}}})},e.setRecPublisherSettings=function(a){var b=a||{};return b.videoOverlayTabletLandscapeWidth=b.videoOverlayTabletLandscapeWidth?b.videoOverlayTabletLandscapeWidth:60,b.videoOverlayTabletPortraitWidth=b.videoOverlayTabletPortraitWidth?b.videoOverlayTabletPortraitWidth:90,b.videoOverlayDesktopWidth=b.videoOverlayDesktopWidth?b.videoOverlayDesktopWidth:50,b.videoInTitleIndication=b.videoInTitleIndication,b},e.addRecToOutbrainPlayer=function(a,b){b.videoInTitleIndication&&e.addVideoIndicationToTitle(a),e.outbrainPlayer.addRec(b)},e.addVideoIndicationToTitle=function(a){e.loadVideoIconFont(a,e)},e.loadVideoIconFont=function(a,b){var c="https://libs.outbrain.com/video/cam-font/cam-font.css",d=r("link","",{href:c,rel:"stylesheet"}),e=document.getElementsByTagName("head")[0];d.onload=b.onVideoIconLoaded.bind(null,a,b),e.appendChild(d)},e.onVideoIconLoaded=function(a,b){var c=b.getWidgetClassNames().recText,d=a.getElementsByClassName(c)[0],e=window.getComputedStyle(d).fontSize||"17px",f=r("i","font-size:"+e+"; font-family:cam-font; margin-right: 5px; vertical-align: middle",{"class":"icon-mycam"});d.insertAdjacentElement("afterbegin",f)},e.insertOBPlayerTag=function(){e.outbrainPlayerTag=!0;var a=document.createElement("script"),b=document.getElementsByTagName("head")[0],c=window.location.search.substring(1),d=function(a){for(var b=a.split("&"),c={},d=0;d<b.length;d++){var e=b[d].split("=");"undefined"==typeof c[e[0]]?c[e[0]]=decodeURIComponent(e[1]):"string"==typeof c[e[0]]?c[e[0]]=[c[e[0]],decodeURIComponent(e[1])]:c[e[0]].push(decodeURIComponent(e[1]))}return c},f=d(c),g=location.protocol+"//libs.sphere.com/video/outbrain-player/current/obp.min.js";if(f.hasOwnProperty("obenv")){if("dev"===f.obenv){var h="https:"===location.protocol?8084:8083;g=location.protocol+"//localhost:"+h+"/player/dev/obp.js",e.obPlayerEnv=f.obenv}"staging"===f.obenv&&(g=location.protocol+"//libs.sphere.com/video/outbrain-player/staging/obp.js",e.obPlayerEnv=f.obenv)}a.src=g,a.crossorigin="anonymous",a.onload=e.onOBPlayerLoaded,b.appendChild(a)},e.onOBPlayerLoaded=function(){try{e.outbrainPlayer=new OBR.outbrainPlayer}catch(a){throw a}for(var b=0,c=e.obPlayerRecs.length;b<c;b++)e.addRecToOutbrainPlayer(e.obPlayerRecs[b].rec,e.obPlayerRecs[b].recData)},e.handleIframeMessaging=function(a,b){b&&(e.bindedNvpIframeMessagingCallback[b]=e.nvpIframeMessagingHandler.bind(null,a,b),window.addEventListener("message",e.bindedNvpIframeMessagingCallback[b]))},e.nvpIframeMessagingHandler=function(a,b,c){var d=["http://widgets.outbrain.com","https://widgets.outbrain.com","http://127.0.0.1:8081","http://localhost:8081","http://widgets-test.outbrain.com","https://widgets-test.outbrain.com"];if(d.indexOf(c.origin)>=0&&c.data&&"Outbrain:ytPlayClick"===c.data.message){var f="NVP-IFRAME-"+b,g=a.querySelectorAll("#"+f),h=g&&g.length?g[0].contentWindow:null;c.source.window===h&&(window.removeEventListener("message",e.bindedNvpIframeMessagingCallback[b]),a.className+=" ob-nvp-play-clicked")}},e.onRecTextClick=function(a,b){b.stopPropagation&&(b.preventDefault(),b.stopPropagation()),b.cancelBubble=!0,location.href=a},e.getWidgetClassNames=function(){var a={};return a.recs="ob-dynamic-rec-link",a.recImageContainer="ob-rec-image-container",a.recImage="ob-rec-image",a.recImageRatio="ob-image-ratio",a.videoIconContainer="ob-video-icon-container",a.recText="ob-rec-text",a.recSource="ob-rec-source",a},e.getWidgetData=function(a){var b=a.getAttribute("data-nvp");return null!==b&&"string"==typeof b?JSON.parse(b.replace(/\"/g,"#$#").replace(/'/g,'"').replace(/\\\"/g,"'").replace(/\#\$\#/g,'\\"')):(window.OBR.error({name:"obm-nvpError",message:"Error parsing data-nvp: "+b,stack:"None"}),null)};var m=function(a,b,c,d,e){this.overlayParent=a,this.recDataObj=b,this.overlay=d,this.settings=c,this.iframeElement=e},n=function(){g={},h={}},o=function(a){return 0===Object.keys(a).length||""===a||null===a||void 0===a},p=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},q=function(a){a.preventDefault()};e.getHashParamString=function(a){var b="";for(param in a)b+=param+"="+encodeURIComponent(a[param])+"&";return b=b.substring(0,b.length-1)},e.getIframeAttributes=function(a,b){var c=e.getHashParamString(a),d={id:"NVP-IFRAME"+(b?"-"+b:""),src:k+l+"videoIframe.html"+(c.length>0?"#"+c:""),allowfullscreen:""};return d},e.setIframeDimensions=function(a,b,c){return c?(a.style.width="100%",a.style.height="100%"):(a.style.width=b.iframeWidthPercent+"%",a.style.height=b.iframeHeightPercent+"%"),a},e.loadIframe=function(d,f,h,i){try{var j=i||g;if(j){var k=e.getIframeAttributes(j,f);b=r("iframe","border:0;",k);var l=h?h:a;return l.appendChild(b),h||"mobile"===g.platform||e.addCloseButton(d,l),h||c===document.body||(b.style.position="static"),b=e.setIframeDimensions(b,d,h)}}catch(m){console.log(m),null!==b&&h.removeChild(b)}return null},e.addCloseButton=function(a,b){var c,d={id:"NVP-CLOSE",onclick:"NVPInjector.sendClosingLog(event);"};c=r("div","",d),c.innerHTML="âœ•",b.appendChild(c),e.setCloseBtnStyle(a)},e.setCloseBtnStyle=function(a){var b=1500/a.height,c=1500/a.width;if("desktop"===a.platform){var d=4500/a.height,e=4500/a.width;c=(100-a.iframeWidthPercent)/2-e>=0?e:c,c==e&&(b=d)}document.getElementById("NVP-CLOSE").style.top=(100-a.iframeHeightPercent)/2-b+"%",document.getElementById("NVP-CLOSE").style.right=(100-a.iframeWidthPercent)/2-c+"%"},e.updateDisplayStatus=function(){var a=e.getDisplayStatus(),c=a.orientation;e.changeCss(c),document.getElementById("NVP-IFRAME").style.width=a.iframeWidthPercent+"%",document.getElementById("NVP-IFRAME").style.height=e.calcIframeHeight(a)+"%","mobile"!==a.platform&&e.setCloseBtnStyle(a),b.contentWindow&&b.contentWindow.postMessage(JSON.stringify({obKey:"nvp",e:"orientation",orientation:c}),k)},e.changeCss=function(a){for(var b=document.getElementsByClassName("orientation"),c=0;c<b.length;c+=1)d.removeClass(b[c],"portrait"),d.removeClass(b[c],"landscape"),d.addClass(b[c],a)},e.calcIframeHeight=function(a){if("mobile"===a.platform)return 100;var b=a.width*(a.iframeWidthPercent/100)*9/16;return b=100*b/83,b=100*b/a.height},e.getDisplayStatus=function(a){var b={};return b.width=window.innerWidth||0,b.height=window.innerHeight||0,b.orientation=b.width<=b.height?"portrait":"landscape",b.platform=a||g.platform,b.deviceTypeClasses=b.platform+" orientation "+b.orientation,b.iframeWidthPercent="mobile"===b.platform?100:"portrait"===b.orientation?h.videoOverlayTabletPortraitWidth:"tablet"===b.platform?h.videoOverlayTabletLandscapeWidth:h.videoOverlayDesktopWidth,b.iframeHeightPercent=e.calcIframeHeight(b),b},e.receiveMessage=function(a){a.origin===k&&"Close Iframe"===a.data&&NVPInjector.closeOverlay()},e.hashChange=function(a){a.oldURL.indexOf("obOVerlay")>-1&&(window.removeEventListener("hashchange",e.hashChange),NVPInjector.sendClosingLog(null))};var r=function(a,b,c){var d,e=document.createElement(a);"string"==typeof b&&(e.style.cssText=b);for(d in c)c.hasOwnProperty(d)&&e.setAttribute(d,c[d]);return e};return NVPInjector.sendClosingLog=function(a){return a&&(a.preventDefault(),a.stopPropagation()),b.contentWindow&&b.contentWindow.postMessage&&b.contentWindow.postMessage(JSON.stringify({obKey:"nvp",e:"sendClosingLog"}),k),!1},NVPInjector.closeOverlay=function(){document.getElementById("NVP-OVERLAY")&&(a.removeChild(b),c.removeChild(a),document.body.style.height="",document.body.style.overflow="",document.body.removeEventListener("touchmove",q),window.removeEventListener("resize",e.updateDisplayStatus)),window.location.hash.indexOf(j)!==-1&&window.history.back()},d.addClass=function(a,b){if(a.classList)return void a.classList.add(b);var c="[ '\"|]"+b+"[ '\"|]",d=new RegExp(c);a&&!d.test("|"+a.className+"|")&&(a.className+=" "+b)},d.removeClass=function(a,b){a&&(a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b+"(\\b|$)","gi")," "))},d.getMy=function(){return e},d}(),NVPInjector.util.js2css("src/css/SDK/sdk",'@charset "utf-8";#NVP-IFRAME-CONTAINER{background-color:red}#NVP-OVERLAY{position:fixed;background-color:rgba(66,66,66,0.9);width:100%;height:100%;left:0;top:0;z-index:999998}#NVP-IFRAME{margin:auto;display:block;border:1px solid #E6E6E6;top:0;bottom:0;left:0;right:0;position:absolute;background-color:black}#NVP-CLOSE{background-color:#9f9f9f;color:rgb(66,66,66);height:30px;width:30px;font-family:gill sans,sans-serif;position:absolute;font-size:22px;text-align:center;line-height:31px;cursor:pointer;moz-border-radius:70px;-webkit-border-radius:70px;border-radius:70px;font-weight:100}#NVP-OVERLAY.tablet{background-color:rgba(254,254,254,0.85)}.tablet #NVP-CLOSE{background-color:#787878;color:rgb(254,254,254)}.tablet #NVP-IFRAME{box-shadow:0.5px 0.866px 7.84px 0.16px rgba(170,170,170,0.004)}#NVP-OVERLAY.mobile{background-color:#F8F8F8}.mobile #NVP-IFRAME{background-color:#F8F8F8;float:right;border:none}.OUTBRAIN.ob-shrink.ob-top-box{z-index:999997!important}'),function(){OBR&&OBR.extern&&OBR.extern.handshakeNVP&&OBR.extern.handshakeNVP()}();